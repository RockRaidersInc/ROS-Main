#!/usr/bin/env python
import serial
import rospy
import re as reeeeee  # named in honor of RPI sudents
import pdb
import time
import sys
import signal

from sensor_msgs.msg import Imu as Imu_msg
from sensor_msgs.msg import MagneticField as MagneticField_msg
from nmea_msgs.msg import Sentence as NmeaSentence_msg



gps_data = ["$GNVTG,,T,,M,0.296,N,0.548,K,A*39",
            "$GNGGA,183826.00,4243.80026,N,07340.75414,W,1,07,6.69,73.8,M,-33.7,M,,*40",
            "$GNGSA,A,3,07,27,30,,,,,,,,,,10.62,6.69,8.24*2F",
            "$GNGSA,A,3,81,79,88,80,,,,,,,,,10.62,6.69,8.24*21",
            "$GPGSV,2,1,06,04,,,34,07,70,297,27,08,,,32,23,12,197,*72",
            "$GPGSV,2,2,06,27,48,050,42,30,35,308,27*7E",
            "$GLGSV,2,1,06,70,12,282,26,71,10,331,24,79,66,063,40,80,41,321,31*68",
            "$GLGSV,2,2,06,81,66,074,38,88,24,031,34*61",
            "$GNGLL,4243.80026,N,07340.75414,W,183826.00,A,A*6D",
            "$GNRMC,183827.00,A,4243.80004,N,07340.75410,W,0.397,,100419,,,A*71",
            "$GNVTG,,T,,M,0.397,N,0.735,K,A*31",
            "$GNGGA,183827.00,4243.80004,N,07340.75410,W,1,07,6.70,72.7,M,-33.7,M,,*43",
            "$GNGSA,A,3,07,27,30,,,,,,,,,,10.62,6.70,8.25*26",
            "$GNGSA,A,3,81,79,88,80,,,,,,,,,10.62,6.70,8.25*28",
            "$GPGSV,2,1,06,04,,,37,07,70,297,38,08,,,37,23,12,197,22*7A",
            "$GPGSV,2,2,06,27,48,050,40,30,35,308,38*72",
            "$GLGSV,2,1,06,70,12,282,27,71,10,331,24,79,66,063,37,80,41,321,34*6C",
            "$GLGSV,2,2,06,81,66,074,36,88,24,031,29*63",
            "$GNGLL,4243.80004,N,07340.75410,W,183827.00,A,A*68",
            "$GNRMC,183828.00,A,4243.80073,N,07340.75455,W,0.527,,100419,,,A*72",
            "$GNVTG,,T,,M,0.527,N,0.976,K,A*35",
            "$GNGGA,183828.00,4243.80073,N,07340.75455,W,1,07,6.70,76.1,M,-33.7,M,,*4F",
            "$GNGSA,A,3,07,27,30,,,,,,,,,,10.63,6.70,8.25*27",
            "$GNGSA,A,3,81,79,88,80,,,,,,,,,10.63,6.70,8.25*29",
            "$GPGSV,2,1,06,04,,,34,07,70,297,39,08,,,32,23,12,197,22*7D",
            "$GPGSV,2,2,06,27,48,050,40,30,35,308,34*7E",
            "$GLGSV,2,1,06,70,12,282,29,71,10,330,25,79,66,063,39,80,41,321,35*6D",
            "$GLGSV,2,2,06,81,66,074,38,88,24,031,30*65",
            "$GNGLL,4243.80073,N,07340.75455,W,183828.00,A,A*66",
            "$GNRMC,183829.00,A,4243.80095,N,07340.75456,W,0.227,,100419,,,A*7F",
            "$GNVTG,,T,,M,0.227,N,0.421,K,A*3D",
            "$GNGGA,183829.00,4243.80095,N,07340.75456,W,1,07,6.70,76.7,M,-33.7,M,,*43",
            "$GNGSA,A,3,07,27,30,,,,,,,,,,10.63,6.70,8.25*27",
            "$GNGSA,A,3,81,79,88,80,,,,,,,,,10.63,6.70,8.25*29",
            "$GPGSV,2,1,06,04,,,33,07,70,297,37,08,,,25,23,12,197,22*72",
            "$GPGSV,2,2,06,27,48,050,39,30,35,308,33*77",
            "$GLGSV,2,1,06,70,12,282,31,71,10,330,24,79,66,063,39,80,41,321,35*65",
            "$GLGSV,2,2,06,81,66,074,37,88,24,031,31*6B",
            "$GNGLL,4243.80095,N,07340.75456,W,183829.00,A,A*6C",
            "$GNRMC,183830.00,A,4243.80100,N,07340.75457,W,0.043,,100419,,,A*7B",
            "$GNVTG,,T,,M,0.043,N,0.079,K,A*34",
            "$GNGGA,183830.00,4243.80100,N,07340.75457,W,1,07,6.70,76.8,M,-33.7,M,,*48",
            "$GNGSA,A,3,07,27,30,,,,,,,,,,10.63,6.70,8.25*27",
            "$GNGSA,A,3,81,79,88,80,,,,,,,,,10.63,6.70,8.25*29",
            "$GPGSV,2,1,06,04,,,31,07,70,297,36,08,,,24,23,12,197,23*71",
            "$GPGSV,2,2,06,27,48,050,38,30,35,308,33*76",
            "$GLGSV,2,1,06,70,12,282,32,71,10,330,24,79,66,063,37,80,41,321,34*69]"]

if __name__ == "__main__":
    rospy.init_node('publish_static_gps')
    gps_pub = rospy.Publisher('/gps/nmea_sentence', NmeaSentence_msg, queue_size = 2)
    while not rospy.is_shutdown():
        for sentence in gps_data:
            sentence = sentence.strip()
            msg = NmeaSentence_msg()
            msg.sentence = sentence
            msg.header.stamp = rospy.get_rostime()
            msg.header.frame_id = 'gps0_link'
            gps_pub.publish(msg)
            time.sleep(0.1)

    # main(imu_pub, mag_pub)
